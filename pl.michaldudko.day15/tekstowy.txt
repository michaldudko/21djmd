SOURCEREADER

SOURCEREADER

PUBLIC CLASS ALLCAPSDEMO {
    PUBLIC STATIC VOID MAIN(STRING[] ARGS){
        IF(ARGS.LENGTH<1){
            SYSTEM.OUT.PRINTLN("MUSISZ WPISAĆ NAZWĘ PLIKU");
            SYSTEM.EXIT(-1);
        }
        ALLCAPS CAP = NEW ALLCAPS(ARGS[0]);
        CAP.CONVERT();
    }
}

CLASS ALLCAPS {
    STRING SOURCENAME;

    ALLCAPS(STRING SOURCEARG){
        SOURCENAME = SOURCEARG;
    }

    VOID CONVERT(){
        TRY{
            //UTWÓRZ OBIEKTY PLIKÓW
            FILESYSTEM FS = FILESYSTEMS.GETDEFAULT();
            PATH SOURCE = FS.GETPATH(SOURCENAME);
            PATH TEMP = FS.GETPATH("TMP_"+SOURCENAME);

            //UTWÓRZ STRUMIEŃ WEJŚCIOWY
            FILEREADER FR = NEW FILEREADER(SOURCE.TOFILE());
            BUFFEREDREADER IN = NEW BUFFEREDREADER(FR);

            //UTWÓRZ STRUMIEŃ WYJŚCIOWY
            FILEWRITER FW = NEW FILEWRITER(TEMP.TOFILE());
            BUFFEREDWRITER OUT = NEW BUFFEREDWRITER(FW);

            BOOLEAN EOF = FALSE;
            INT INCHAR;
            DO {